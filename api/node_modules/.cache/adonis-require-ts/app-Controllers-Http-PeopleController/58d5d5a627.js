"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Person_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Person"));
class PeopleController {
    async index({}) {
        const people = await Person_1.default.all();
        if (people.length === 0) {
            return "There aren't people here!";
        }
        return people;
    }
    async show({ response, params }) {
        const person = await Person_1.default.findOrFail(params.id);
        response.status(201);
        return person;
    }
    async store({ request, response }) {
        const personData = request.body();
        const person = await Person_1.default.create(personData);
        response.status(201);
        return { message: "Momentos criados com sucesso", data: person };
    }
    async update({ request, params }) {
        const personData = request.body();
        const person = await Person_1.default.findOrFail(params.id);
        person.first_name = personData.first_name;
        person.last_name = personData.last_name;
        person.birthday = personData.birthday;
        person.age = personData.age;
        person.gender = personData.gender;
        await person.save();
        return person;
    }
    async destroy({ response, params }) {
        const person = await Person_1.default.findOrFail(params.id);
        person.delete();
        response.status(201);
    }
}
exports.default = PeopleController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGVvcGxlQ29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlBlb3BsZUNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxxRkFBc0M7QUFFdEMsTUFBcUIsZ0JBQWdCO0lBRTVCLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBdUI7UUFDeEMsTUFBTSxNQUFNLEdBQUcsTUFBTSxnQkFBTSxDQUFDLEdBQUcsRUFBRSxDQUFBO1FBQ2pDLElBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUM7WUFDdEIsT0FBTywyQkFBMkIsQ0FBQTtTQUNuQztRQUNELE9BQU8sTUFBTSxDQUFBO0lBQ2YsQ0FBQztJQUVNLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBQyxRQUFRLEVBQUUsTUFBTSxFQUFzQjtRQUN2RCxNQUFNLE1BQU0sR0FBRyxNQUFNLGdCQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUNqRCxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3BCLE9BQU8sTUFBTSxDQUFBO0lBQ2YsQ0FBQztJQUVNLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBQyxPQUFPLEVBQUUsUUFBUSxFQUFzQjtRQUN6RCxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDakMsTUFBTSxNQUFNLEdBQUcsTUFBTSxnQkFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUM5QyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3BCLE9BQU8sRUFBRSxPQUFPLEVBQUUsOEJBQThCLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFBO0lBRWxFLENBQUM7SUFFTSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUMsT0FBTyxFQUFFLE1BQU0sRUFBc0I7UUFDeEQsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFBO1FBQ2pDLE1BQU0sTUFBTSxHQUFHLE1BQU0sZ0JBQU0sQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBRWpELE1BQU0sQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDLFVBQVUsQ0FBQTtRQUN6QyxNQUFNLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQyxTQUFTLENBQUE7UUFDdkMsTUFBTSxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFBO1FBQ3JDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQTtRQUMzQixNQUFNLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUE7UUFFakMsTUFBTSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDbkIsT0FBTyxNQUFNLENBQUE7SUFDZixDQUFDO0lBRU0sS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFDLFFBQVEsRUFBRSxNQUFNLEVBQXNCO1FBQzFELE1BQU0sTUFBTSxHQUFHLE1BQU0sZ0JBQU0sQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQ2pELE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQTtRQUNmLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDdEIsQ0FBQztDQUNGO0FBM0NELG1DQTJDQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgSHR0cENvbnRleHRDb250cmFjdCB9IGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvSHR0cENvbnRleHQnXG5pbXBvcnQgUGVyc29uIGZyb20gJ0FwcC9Nb2RlbHMvUGVyc29uJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQZW9wbGVDb250cm9sbGVyIHtcblxuICBwdWJsaWMgYXN5bmMgaW5kZXgoe306IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcbiAgICBjb25zdCBwZW9wbGUgPSBhd2FpdCBQZXJzb24uYWxsKClcbiAgICBpZiAocGVvcGxlLmxlbmd0aCA9PT0gMCl7XG4gICAgICByZXR1cm4gXCJUaGVyZSBhcmVuJ3QgcGVvcGxlIGhlcmUhXCJcbiAgICB9XG4gICAgcmV0dXJuIHBlb3BsZVxuICB9XG5cbiAgcHVibGljIGFzeW5jIHNob3coe3Jlc3BvbnNlLCBwYXJhbXN9OiBIdHRwQ29udGV4dENvbnRyYWN0KSB7XG4gICAgY29uc3QgcGVyc29uID0gYXdhaXQgUGVyc29uLmZpbmRPckZhaWwocGFyYW1zLmlkKVxuICAgIHJlc3BvbnNlLnN0YXR1cygyMDEpXG4gICAgcmV0dXJuIHBlcnNvblxuICB9XG5cbiAgcHVibGljIGFzeW5jIHN0b3JlKHtyZXF1ZXN0LCByZXNwb25zZX06IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcbiAgICBjb25zdCBwZXJzb25EYXRhID0gcmVxdWVzdC5ib2R5KClcbiAgICBjb25zdCBwZXJzb24gPSBhd2FpdCBQZXJzb24uY3JlYXRlKHBlcnNvbkRhdGEpXG4gICAgcmVzcG9uc2Uuc3RhdHVzKDIwMSlcbiAgICByZXR1cm4geyBtZXNzYWdlOiBcIk1vbWVudG9zIGNyaWFkb3MgY29tIHN1Y2Vzc29cIiwgZGF0YTogcGVyc29uIH1cbiAgICAvL3JldHVybiB7cGVyc29uRGF0YTogcGVyc29uRGF0YSwgcGVyc29uOiBwZXJzb24sIG1lc3NhZ2U6IFwiU3VjY2VmdWxseSEhIVwiIH1cbiAgfVxuXG4gIHB1YmxpYyBhc3luYyB1cGRhdGUoe3JlcXVlc3QsIHBhcmFtc306IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcbiAgICBjb25zdCBwZXJzb25EYXRhID0gcmVxdWVzdC5ib2R5KClcbiAgICBjb25zdCBwZXJzb24gPSBhd2FpdCBQZXJzb24uZmluZE9yRmFpbChwYXJhbXMuaWQpXG5cbiAgICBwZXJzb24uZmlyc3RfbmFtZSA9IHBlcnNvbkRhdGEuZmlyc3RfbmFtZVxuICAgIHBlcnNvbi5sYXN0X25hbWUgPSBwZXJzb25EYXRhLmxhc3RfbmFtZVxuICAgIHBlcnNvbi5iaXJ0aGRheSA9IHBlcnNvbkRhdGEuYmlydGhkYXlcbiAgICBwZXJzb24uYWdlID0gcGVyc29uRGF0YS5hZ2VcbiAgICBwZXJzb24uZ2VuZGVyID0gcGVyc29uRGF0YS5nZW5kZXJcblxuICAgIGF3YWl0IHBlcnNvbi5zYXZlKClcbiAgICByZXR1cm4gcGVyc29uXG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZGVzdHJveSh7cmVzcG9uc2UsIHBhcmFtc306IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcbiAgICBjb25zdCBwZXJzb24gPSBhd2FpdCBQZXJzb24uZmluZE9yRmFpbChwYXJhbXMuaWQpXG4gICAgcGVyc29uLmRlbGV0ZSgpXG4gICAgcmVzcG9uc2Uuc3RhdHVzKDIwMSlcbiAgfVxufVxuIl19